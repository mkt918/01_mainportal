# 📚 授業記録システム 使い方ガイド

Markdown で授業記録を書くだけで、クイズ・タブ・リアクションシート付きのインタラクティブなHTMLページが自動生成されます。

---

## 🎯 生成されるページの構成

| タブ | 内容 |
|------|------|
| 📝 復習クイズ | 前回の復習クイズ（カルーセル形式） |
| 📅 本日の内容 | 前回のおさらい・今日の予定・資料 |
| 📋 まとめクイズ | 授業終わりの確認クイズ（カルーセル形式） |
| 📝 リアクションシート | GASに送信するフォーム |

---

## 📝 授業記録の作成手順

### ステップ 1: ファイルを作成

`note/lessons/template.md` をコピーしてリネームします。

**ファイル名の形式**:

```
YYYY-MM-DD-科目名.md
```

**例**: `2026-02-11-簿記.md`、`2026-02-11-プログラミング.md`

---

### ステップ 2: ファイルを編集

#### フロントマター（必須）

ファイル冒頭の `---` で囲まれた部分を埋めます。

```markdown
---
date: 2026-02-11
subject: 簿記
period: 3
unit: その他の債権債務
summary: ポータル一覧に表示される要約（30〜50文字程度）
tags: ["簿記", "3限", "1-1"]
---
```

| 項目 | 説明 |
|------|------|
| `date` | 授業日（YYYY-MM-DD形式） |
| `subject` | 科目名 |
| `period` | 時限（数字のみ。「限」は自動付与） |
| `unit` | 単元名 |
| `summary` | ポータル一覧の説明文 |
| `tags` | 検索・フィルタ用タグ |

---

#### 📚 前回の復習セクション

```markdown
## 📚 前回の復習

**あらすじ**: 前回の内容を1〜2行で要約します。

### 復習クイズ

**Q1**: 問題文を記入

- A) 選択肢1
- B) 選択肢2 ✓
- C) 選択肢3

**Q2**: 問題文を記入

- A) 選択肢1 ✓
- B) 選択肢2
- C) 選択肢3
```

- 正解の選択肢の末尾に `✓` を付ける
- クイズは何問でも追加可能（Q3, Q4...）
- 選択肢は A〜C の3択

---

#### 📅 本日の内容セクション

```markdown
## 📅 本日の内容

### 小見出し（h3）

段落テキストを自由に書けます。**強調**も使えます。

- **用語名**: 説明文（先頭を太字にするとカード形式になります）
- **別の用語**: その説明

### 別の小見出し

本文...
```

**表示ルール**:

| Markdown の書き方 | 生成されるスタイル |
|------|------|
| `### 小見出し` | ボーダー付き見出し + アイコン |
| `- **太字**: テキスト` | グラデーションカード（ラベルアイコン付き） |
| `- 通常テキスト` | アイコン付きリストアイテム |
| `段落テキスト` | スタイル付き段落 |

---

#### 📎 資料セクション

```markdown
## 📎 資料

- [スライド（PDF）](https://example.com/slide.pdf)
- [Googleドライブ](https://drive.google.com/file/d/xxx/view)
- [練習問題集](https://example.com/practice)
```

- PDFリンク・Googleドライブ → **アコーディオン内にPDF埋め込み**表示
- 通常URLリンク → **外部リンクボタン**表示
- 資料がない場合はセクションごと削除してOK

---

#### ✅ まとめクイズセクション

```markdown
## ✅ まとめクイズ

**Q1**: 問題文を記入

- A) 選択肢1 ✓
- B) 選択肢2
- C) 選択肢3
```

書き方は復習クイズと同じです。

---

### ステップ 3: HTMLに変換

```
update-lessons.bat
```

をダブルクリックします。黒い画面が表示され、以下のように出力されます:

```
📚 授業記録の変換を開始します...

処理中: 2026-02-11-簿記.md
  ✓ 生成完了: ...

✓ lessons.jsonを更新しました (5件)
🎉 変換が完了しました！
```

「完了しました」が表示されたら **Enter** を押して閉じます。

---

### ステップ 4: ブラウザで確認

`index.html` をブラウザで開き、「授業の記録」に新しいカードが追加されていることを確認します。

---

## 💡 よくある質問

### クイズの正解はどう指定しますか？

正解の選択肢末尾に `✓` を付けます。必ず1つだけ付けてください。

```markdown
- A) 選択肢1
- B) 正解の選択肢 ✓
- C) 選択肢3
```

### 本日の内容の見た目を良くするには？

`### 小見出し` と `- **太字**: テキスト` の書き方を使うと自動でカードスタイルになります。

```markdown
### 仕訳のパターン

- **① 商品を売ったとき**: (借) 売掛金 / (貸) 売上
- **② 代金を受け取ったとき**: (借) 現金 / (貸) 売掛金
```

### 資料をGoogleドライブで共有するには？

ドライブのリンクをそのまま貼るとPDFが埋め込み表示されます。

```markdown
- [本日のスライド](https://drive.google.com/file/d/XXXX/view)
```

### 授業記録を削除したい

`note/lessons/` の該当する `.md` ファイルを削除し、`update-lessons.bat` を再実行します。

### エラーが出た場合

1. Node.js がインストールされているか確認
2. プロジェクトフォルダで `npm install` を実行したか確認
3. `.md` ファイルの先頭の `---` が正しく書かれているか確認

---

## 🔧 初回セットアップ（1回のみ）

### 1. Node.js インストール

[Node.js公式サイト](https://nodejs.org/) から LTS版をダウンロードしてインストール。

### 2. 依存パッケージのインストール

コマンドプロンプトで以下を実行:

```
cd C:\Program2\T\01_mainportal
npm install
```

これで準備完了です。

---

## 📌 作成チェックリスト

- [ ] `template.md` をコピーして `YYYY-MM-DD-科目名.md` にリネーム
- [ ] `date` / `subject` / `period` / `unit` / `summary` を記入
- [ ] `## 📚 前回の復習` — あらすじ + クイズ（各選択肢に1つだけ ✓）
- [ ] `## 📅 本日の内容` — `### 小見出し` + `- **用語**: 説明` 形式で記述
- [ ] `## 📎 資料` — リンクを記入（任意）
- [ ] `## ✅ まとめクイズ` — クイズ（各選択肢に1つだけ ✓）
- [ ] ファイルを保存（Ctrl+S）
- [ ] `update-lessons.bat` を実行
- [ ] ブラウザで表示確認

---

## 🗂 ファイル構成（参考）

```
01_mainportal/
├── index.html               # ポータルトップページ
├── data/
│   └── lessons.json         # 授業一覧データ（自動生成）
├── note/
│   ├── lessons/             # Markdown原稿置き場
│   │   ├── template.md      # テンプレート
│   │   └── YYYY-MM-DD-科目名.md
│   └── YYYY-MM-DD-科目名/
│       └── index.html       # 生成済みHTMLページ
└── update-lessons.bat       # 変換実行バッチ
```
